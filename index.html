<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blooket Bot Controller</title>
    <style>
        body { font-family: 'Nunito', sans-serif; background: #0b1121; color: white; text-align: center; padding: 50px; }
        .container { background: #1a243d; padding: 30px; border-radius: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.5); display: inline-block; }
        h1 { color: #00cf00; margin-bottom: 10px; }
        #status { font-weight: bold; color: #ffcc00; }
        button { background: #007bff; color: white; border: none; padding: 15px 30px; border-radius: 10px; cursor: pointer; font-size: 18px; margin-top: 20px; transition: 0.3s; }
        button:hover { background: #0056b3; transform: scale(1.05); }
        .instructions { font-size: 14px; color: #aaa; margin-top: 20px; max-width: 300px; text-align: left; margin-left: auto; margin-right: auto; }
    </style>
</head>
<body>
    <div class="container">
        <h1>Blooket Bot Hub</h1>
        <p>Status: <span id="status">Waiting for user...</span></p>
        
        <button id="mainButton" onclick="toggleBot()">Activate Bot</button>

        <div class="instructions">
            <p><strong>How to use:</strong><br>
               1. Open Blooket in another tab.<br>
               2. Return here and click 'Activate'.<br>
               3. The bot logic will start running.</p>
        </div>
    </div>

    <script>
        let isActive = false;

        function toggleBot() {
            const statusLabel = document.getElementById('status');
            const btn = document.getElementById('mainButton');

            if (!isActive) {
                isActive = true;
                statusLabel.innerText = "RUNNING";
                statusLabel.style.color = "#00ff00";
                btn.innerText = "Deactivate Bot";
                btn.style.background = "#dc3545";
                startBotLogic();
            } else {
                isActive = false;
                statusLabel.innerText = "STOPPED";
                statusLabel.style.color = "#ff4444";
                btn.innerText = "Activate Bot";
                btn.style.background = "#007bff";
            }
        }

        // --- BLOOKET BOT LOGIC (From script.js) ---
        function startBotLogic() {
            console.log("Bot logic initialized...");
            
            // Your custom blooks list
            var blooks = ["Chick", "Chicken", "Cow", "Goat", "Horse", "Pig", "Sheep", "Duck", "Alpaca", "Dog", "Cat", "Rabbit", "Goldfish", "Hamster", "Turtle", "Kitten", "Puppy", "Bear", "Moose", "Fox", "Raccoon", "Squirrel", "Owl", "Hedgehog", "Deer", "Wolf", "Beaver", "Tiger", "Orangutan", "Cockatoo", "Parrot"];

            // The main interval to process the game
            const botLoop = setInterval(() => {
                if(!isActive) {
                    clearInterval(botLoop);
                    return;
                }

                // Check for username in localStorage
                const username = localStorage.getItem("chatUsername");
                if (!username) {
                    console.log("No username found. Please set one in the Blooket tab.");
                } else {
                    document.getElementById("status").textContent = "Bot Active for: " + username;
                }
                
                // Add any additional Blooket automation functions here
                console.log("Processing game frames...");
            }, 1000);
        }
    </script>
</body>
</html>
